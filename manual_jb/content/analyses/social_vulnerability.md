# Social vulnerability

**Description**

This analysis computes a social vulnerability score for per associated zone in census data.  The computation
extracts zoning and a social vulnerability score obtained by computing demographic features of interest against 
national average values.

The output of the computation is a dataset in CSV format.

**Contributors**

- Science: Elaina Sutley, Amin Enderami
- Implementation: Amin Enderami, Santiago Núñez-Corrales, and NCSA IN-CORE Dev Team

**Related publications**
- Enderami, S. A., and Sutley, E. (2024). Social vulnerability score: a scalable index for representing social 
vulnerability in virtual community resilience testbeds. Natural Hazards. https://doi.org/10.1007/s11069-024-06499-z

**Input parameters**

key name | type | name | description
--- | --- | --- | ---
`result_name` <sup>*</sup> | `str` | Result name | Name of the result dataset.
`year` <sup>*</sup> | `int` | Year | Census year for the input datasets.
`state` <sup>*</sup> | `str` | State | State according to US Census.
`county` <sup>*</sup> | `str` | County | County according to US Census.
`census_geo_level` <sup>*</sup> | `str` | Census geographic level | Geographic level of granularity described by the dataset.

**Input datasets**

key name | type | name | description
--- | --- | --- | ---
`national_vulnerability_feature_averages` <sup>*</sup> | [`incore:socialVulnerabilityFeatureAverages`](https://incore.ncsa.illinois.edu/semantics/api/types/incore:socialVulnerabilityFeatureAverages) | National vulnerability feature averages | National averages for features determining social vulnerability.
`social_vulnerability_demographic_factors` <sup>*</sup> | [`incore:socialVulnerabilityDemFactors`](https://incore.ncsa.illinois.edu/semantics/api/types/incore:socialVulnerabilityDemFactors) | Demographic factors | social vulnerability demographic factors for a given geographic type.

**Output datasets**

key name | type | parent key | name | description
--- | --- | --- | --- | ---
`sv_result` <sup>*</sup> | [`incore:socialVulnerabilityScore`](https://incore.ncsa.illinois.edu/semantics/api/types/incore:socialVulnerabilityScore) | `social_vulnerability_score` | Results | A dataset containing results (format: CSV)<br>with social vulnerability score at the required geographic level.

<small>(* required)</small>

**Execution**

code snippet:

```
    # Create social vulnerability analysis instance
    sva = SocialVulnerability(client)

    # Load input dataset
    sva.load_remote_input_dataset("national_vulnerability_feature_averages", national_vulnerability_feature_averages)
    sva.load_remote_input_dataset("social_vulnerability_demographic_factors", social_vulnerability_demographic_factors)

    # Specify the result name
    result_name = "social_vulnerabilty"

    # Set analysis parameters
    sva.set_parameter("result_name", result_name)
    sva.set_parameter("year", year)
    sva.set_parameter("state", state)
    sva.set_parameter("county", county)
    sva.set_parameter("census_geo_level", census_geo_level)
    
    # Run social vulnerability analysis
    sva.run_analysis()
```

full analysis: [social_vulnerability.ipynb](https://github.com/IN-CORE/incore-docs/blob/main/notebooks/social_vulnerability.ipynb)
